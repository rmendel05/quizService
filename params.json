{"name":"quizService","tagline":"A RESTful service for creating, updating and querying quiz questions","body":"# quizService\r\n##A RESTful service for creating, updating and querying quiz questions\r\n\r\n####Contents\r\n+ [Installation](#Installation)\r\n+ [Codebase](#Codebase)\r\n+ [Testing the Service](#Testing-the-Service)\r\n  - [Lookup a Single Question by Internal ID](#Lookup-a-Single-Question-by-Internal-ID)\r\n  - [Query by Distractor Count](#Query-by-Distractor-Count)\r\n  - [Query by Word Count](#Query-by-Word-Count)\r\n  - [Query for All Questions](#Query-for-All-Questions)\r\n  - [Insert a Question](#Insert-a-Question)\r\n  - [Update a Question](#Update-a-Question)\r\n  - [Erroneous Update](#Erroneous-Update)\r\n+ [Things to Improve](#Things-to-Improve)\r\n+ [Further Documentation](#Further-Documentation)\r\n\r\n<a id=\"Installation\"></a>\r\n##Installation\r\n\r\nTo install the service, download and place the contents of the following target folder to an empty folder on your local machine.  \r\n\r\n  https://github.com/rmendel05/quizService/tree/master/quizServer/target\r\n\r\nPlease note that the service requires Version 1.8 of the Java Runtime Environment.  Make sure your local folder contains a file called QuestionData.csv.  This file contains all the questions to be loaded during service startup and should be in the following format:\r\n\r\n  question|answer|distractor1,distractor2,..,distractorN\r\n\r\nThen start the service by executing the following command:\r\n\r\n```\r\njava -jar quizServer-0.0-SNAPSHOT-jar-with-dependencies.jar\r\n```\r\n\r\nAfter starting up the service, open a web browser and navigate to the REST endpoint.  The service is hosted on localhost, port 8080 at this address:\r\n\r\nhttp://localhost:8080/api/question\r\n\r\nFor example, to query the question having object id=1, navigate to:\r\n\r\nhttp://localhost:8080/api/question/getObject/1\r\n\r\nPlease see the section on Further Documentation below for a convenient way to explore the API using Swagger.\r\n\r\n<a id=\"Codebase\"></a>\r\n##Codebase\r\nWhen reviewing the code, it might help to look at the following areas first:\r\n\r\nEndpoint definition: https://github.com/rmendel05/quizService/blob/master/quizServer/src/main/java/com/rmendel/quizManager/service/QuestionService.java\r\n\r\nAPI Data Transfer Objects (DTOs): https://github.com/rmendel05/quizService/tree/master/quizServer/src/main/java/com/rmendel/quizManager/api\r\n\r\nIn addition, unit tests can be found in the following location: https://github.com/rmendel05/quizService/tree/master/quizServer/src/test/java/com/rmendel\r\n\r\n<a id=\"Testing-the-Service\"></a> \r\n##Testing the Service\r\nTo test the service, you can use a tool such as Postman, a Google Chrome browser plugin.  Here are some examples of calls to the methods:\r\n\r\n<a id=\"Lookup-a-Single-Question-by-Internal-ID\"></a>\r\n###Lookup a Single Question by Internal ID \r\n          |                                                                   |\r\n----------|-------------------------------------------------------------------\r\nUrl|http://localhost:8080/api/question/getObject/25\r\nMethod|GET\r\n\r\nResponse:\r\n```JSON\r\n{\r\n  \"results\": [\r\n      {\r\n          \"objectNotion\": \"question\",\r\n          \"questionText\": \"What is 812 * 2069?\",\r\n          \"answer\": {\r\n              \"objectNotion\": \"answer\",\r\n              \"responseText\": \"1680028\",\r\n              \"questionID\": \"25\",\r\n              \"id\": \"84\"\r\n          },\r\n          \"wordCount\": 9,\r\n          \"distractors\": [\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"6397\",\r\n                  \"questionID\": \"25\",\r\n                  \"id\": \"85\"\r\n              },\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \" 85\",\r\n                  \"questionID\": \"25\",\r\n                  \"id\": \"86\"\r\n              }\r\n          ],\r\n          \"id\": \"25\"\r\n      }\r\n  ],\r\n  \"errorMessage\": null,\r\n  \"objectNotion\": \"questionResponse\",\r\n  \"success\": true,\r\n  \"rowCount\": 1,\r\n  \"id\": \"b7d741a2-3751-4e96-bf67-0a896745e7c0\"\r\n}\r\n```\r\n\r\n<a id=\"Query-by-Distractor-Count\"></a>\r\n###Query by Distractor Count \r\n          |                                                                   |\r\n----------|-------------------------------------------------------------------\r\nUrl|http://localhost:8080/api/question/query\r\nMethod|POST\r\nHeaders|Content-Type: application/json\r\nBody:\r\n```JSON\r\n{\r\n\"filter\": {\r\n  \"filterType\": \"distractorCount\",\r\n  \"minValue\": 2,\r\n  \"maxValue\": 2\r\n},\r\n\"sort\": {\r\n  \"sortByAttribute\": \"wordCount\"\r\n},\r\n\"page\": {\r\n  \"rowsPerPage\": 2,\r\n  \"pageOffset\": 2\r\n}\r\n}\r\n```\r\nNote that the Content-Type header is required for all POST methods.\r\n\r\nResponse:\r\n```JSON\r\n{\r\n  \"results\": [\r\n      {\r\n          \"objectNotion\": \"question\",\r\n          \"questionText\": \"What is 2368 * 5998?\",\r\n          \"answer\": {\r\n              \"objectNotion\": \"answer\",\r\n              \"responseText\": \"14203264\",\r\n              \"questionID\": \"3631\",\r\n              \"id\": \"12673\"\r\n          },\r\n          \"wordCount\": 9,\r\n          \"distractors\": [\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"5456\",\r\n                  \"questionID\": \"3631\",\r\n                  \"id\": \"12674\"\r\n              },\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \" 4930\",\r\n                  \"questionID\": \"3631\",\r\n                  \"id\": \"12675\"\r\n              }\r\n          ],\r\n          \"id\": \"3631\"\r\n      },\r\n      {\r\n          \"objectNotion\": \"question\",\r\n          \"questionText\": \"What is 3804 - 5903?\",\r\n          \"answer\": {\r\n              \"objectNotion\": \"answer\",\r\n              \"responseText\": \"-2099\",\r\n              \"questionID\": \"3632\",\r\n              \"id\": \"12676\"\r\n          },\r\n          \"wordCount\": 9,\r\n          \"distractors\": [\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"9208\",\r\n                  \"questionID\": \"3632\",\r\n                  \"id\": \"12677\"\r\n              },\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \" 8868\",\r\n                  \"questionID\": \"3632\",\r\n                  \"id\": \"12678\"\r\n              }\r\n          ],\r\n          \"id\": \"3632\"\r\n      }\r\n  ],\r\n  \"errorMessage\": null,\r\n  \"objectNotion\": \"questionResponse\",\r\n  \"success\": true,\r\n  \"rowCount\": 2,\r\n  \"id\": \"81eaf89a-9d20-4e9d-ba30-b88340c66ce1\"\r\n}\r\n```\r\n\r\n<a id=\"Query-by-Word-Count\"></a>\r\n###Query by Word Count \r\n          |                                                                   |\r\n----------|-------------------------------------------------------------------\r\nUrl|http://localhost:8080/api/question/query\r\nMethod|POST\r\nHeaders|Content-Type: application/json\r\nBody:\r\n```JSON\r\n{\r\n\"filter\": {\r\n  \"filterType\": \"wordCount\",\r\n  \"minValue\": 0,\r\n  \"maxValue\": 10\r\n},\r\n\"sort\": {\r\n  \"sortByAttribute\": \"wordCount\"\r\n},\r\n\"page\": {\r\n  \"rowsPerPage\": 2,\r\n  \"pageOffset\": 2\r\n}\r\n}\r\n```\r\n\r\nResponse:\r\n```\r\n{\r\n  \"results\": [\r\n      {\r\n          \"objectNotion\": \"question\",\r\n          \"questionText\": \"What is 6190 + 9800?\",\r\n          \"answer\": {\r\n              \"objectNotion\": \"answer\",\r\n              \"responseText\": \"15990\",\r\n              \"questionID\": \"2307\",\r\n              \"id\": \"8005\"\r\n          },\r\n          \"wordCount\": 7,\r\n          \"distractors\": [\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"8456\",\r\n                  \"questionID\": \"2307\",\r\n                  \"id\": \"8006\"\r\n              }\r\n          ],\r\n          \"id\": \"2307\"\r\n      },\r\n      {\r\n          \"objectNotion\": \"question\",\r\n          \"questionText\": \"What is 7696 * 896?\",\r\n          \"answer\": {\r\n              \"objectNotion\": \"answer\",\r\n              \"responseText\": \"6895616\",\r\n              \"questionID\": \"2316\",\r\n              \"id\": \"8037\"\r\n          },\r\n          \"wordCount\": 7,\r\n          \"distractors\": [\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"3590\",\r\n                  \"questionID\": \"2316\",\r\n                  \"id\": \"8038\"\r\n              }\r\n          ],\r\n          \"id\": \"2316\"\r\n      }\r\n  ],\r\n  \"errorMessage\": null,\r\n  \"objectNotion\": \"questionResponse\",\r\n  \"success\": true,\r\n  \"rowCount\": 2,\r\n  \"id\": \"29863210-472b-45c8-a6d8-47b1e2ba3c3e\"\r\n}\r\n```\r\n\r\n<a id=\"Query-for-All-Questions\"></a>\r\n###Query for All Questions \r\n          |                                                                   |\r\n----------|-------------------------------------------------------------------\r\nUrl|http://localhost:8080/api/question/query\r\nMethod|POST\r\nHeaders|Content-Type: application/json\r\nBody:\r\n```JSON\r\n{ }\r\n```\r\n\r\nResponse:\r\n```\r\n[A JSON collection of all questions is returned.]\r\n```\r\n\r\n<a id=\"Insert-a-Question\"></a>\r\n###Insert a Question \r\n          |                                                                   |\r\n----------|-------------------------------------------------------------------\r\nUrl|http://localhost:8080/api/question/insert\r\nMethod|POST\r\nHeaders|Content-Type: application/json\r\nBody:\r\n```JSON\r\n{\r\n\"questionText\": \"Who was the first person to land on the moon?\",\r\n\"distractors\": [\r\n  {\r\n    \"responseText\": \"Alan Shepard\"\r\n  },\r\n  {\r\n    \"responseText\": \"John Glenn\"\r\n  },\r\n  {\r\n    \"responseText\": \"Buzz Aldrin\"\r\n  }\r\n],\r\n\"answer\": {\r\n  \"responseText\": \"Neil Armstrong\"\r\n}\r\n}\r\n```\r\nResponse:\r\n```JSON\r\n{\r\n  \"results\": [\r\n      {\r\n          \"objectNotion\": \"question\",\r\n          \"questionText\": \"Who was the first person to land on the moon?\",\r\n          \"answer\": {\r\n              \"objectNotion\": \"answer\",\r\n              \"responseText\": \"Neil Armstrong\",\r\n              \"questionID\": \"4000\",\r\n              \"id\": \"13965\"\r\n          },\r\n          \"wordCount\": 18,\r\n          \"distractors\": [\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"Alan Shepard\",\r\n                  \"questionID\": \"4000\",\r\n                  \"id\": \"13966\"\r\n              },\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"John Glenn\",\r\n                  \"questionID\": \"4000\",\r\n                  \"id\": \"13967\"\r\n              },\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"Buzz Aldrin\",\r\n                  \"questionID\": \"4000\",\r\n                  \"id\": \"13968\"\r\n              }\r\n          ],\r\n          \"id\": \"4000\"\r\n      }\r\n  ],\r\n  \"errorMessage\": null,\r\n  \"objectNotion\": \"questionResponse\",\r\n  \"success\": true,\r\n  \"rowCount\": 1,\r\n  \"id\": \"2d0e0d30-59ff-409e-a523-161918d4adf0\"\r\n}\r\n```\r\nNote the id of 4000 for the new question is returned above.  In addition, a unique id of the response for       tracking and logging purposes is also returned.\r\n\r\n<a id=\"Update-a-Question\"></a>\r\n###Update a Question \r\n          |                                                                   |\r\n----------|-------------------------------------------------------------------\r\nUrl|http://localhost:8080/api/question/update\r\nMethod|POST\r\nHeaders|Content-Type: application/json\r\nBody:\r\n```JSON\r\n{\r\n\"id\": \"4000\",\r\n\"questionText\": \"Who was the first person to land on the moon?\",\r\n\"distractors\": [\r\n  {\r\n    \"responseText\": \"Michael Collins\"\r\n  },\r\n  {\r\n    \"responseText\": \"John Glenn\"\r\n  },\r\n  {\r\n    \"responseText\": \"Buzz Aldrin\"\r\n  }\r\n],\r\n\"answer\": {\r\n  \"responseText\": \"Neil Armstrong\"\r\n}\r\n}\r\n```\r\nNote that the id (4000) of the question (but not answers or distractors) is required in the update above.\r\n\r\nResponse:\r\n```JSON\r\n{\r\n  \"results\": [\r\n      {\r\n          \"objectNotion\": \"question\",\r\n          \"questionText\": \"Who was the first person to land on the moon?\",\r\n          \"answer\": {\r\n              \"objectNotion\": \"answer\",\r\n              \"responseText\": \"Neil Armstrong\",\r\n              \"questionID\": \"4000\",\r\n              \"id\": \"13969\"\r\n          },\r\n          \"wordCount\": 18,\r\n          \"distractors\": [\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"Michael Collins\",\r\n                  \"questionID\": \"4000\",\r\n                  \"id\": \"13970\"\r\n              },\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"John Glenn\",\r\n                  \"questionID\": \"4000\",\r\n                  \"id\": \"13971\"\r\n              },\r\n              {\r\n                  \"objectNotion\": \"answer\",\r\n                  \"responseText\": \"Buzz Aldrin\",\r\n                  \"questionID\": \"4000\",\r\n                  \"id\": \"13972\"\r\n              }\r\n          ],\r\n          \"id\": \"4000\"\r\n      }\r\n  ],\r\n  \"errorMessage\": null,\r\n  \"objectNotion\": \"questionResponse\",\r\n  \"success\": true,\r\n  \"rowCount\": 1,\r\n  \"id\": \"ccd9e546-061b-4ebf-bd44-fb6176f3f539\"\r\n}\r\n```\r\n\r\n<a id=\"Erroneous-Update\"></a>\r\n###Erroneous Update \r\n          |                                                                   |\r\n----------|-------------------------------------------------------------------\r\nUrl|http://localhost:8080/api/question/update\r\nMethod|POST\r\nHeaders|Content-Type: application/json\r\nBody:\r\n```\r\n{\r\n\"questionText\": \"Who was the first person to land on the moon?\",\r\n\"distractors\": [\r\n  {\r\n    \"responseText\": \"Michael Collins\"\r\n  },\r\n  {\r\n    \"responseText\": \"John Glenn\"\r\n  },\r\n  {\r\n    \"responseText\": \"Buzz Aldrin\"\r\n  }\r\n],\r\n\"answer\": {\r\n  \"responseText\": \"Neil Armstrong\"\r\n}\r\n}\r\n```\r\n(Above request is missing id.)\r\n\r\nResponse:\r\n```JSON\r\n{\r\n  \"results\": [],\r\n  \"errorMessage\": \"Must specify a non-trivial value for parameter lookupID.\",\r\n  \"objectNotion\": \"questionResponse\",\r\n  \"success\": false,\r\n  \"rowCount\": 0,\r\n  \"id\": \"59446bb0-c8af-4356-9229-0b2c52e042d1\"\r\n}\r\n```\r\n\r\n<a id=\"Things-to-Improve\"></a>\r\n##Things to Improve \r\n* Handle when incoming JSON objects are formatted incorrectly, such as missing comma from array spec.  Add better error messages in responses for these cases.\r\n* Return an indication of whether the specified page is the last one containing data\r\n* Add more business rules to enforce data integrity, such as required values and uniqueness constraints\r\n* Add more ways to filter\r\n* Add more ways to sort\r\n* Add more query tests\r\n* Create indexes for supported search keys and key words\r\n* Synchronize access to table data\r\n* Move QuestionTable cache to a real database\r\n* For distractor updates, support merging of existing items with new items by id\r\n* Handle quoted separators in CSV parser\r\n* Test Question table and business objects more directly\r\n* Use generics to convert between server objects and DTOs\r\n* Add class hierarchy to support logging plugins.\r\n\r\n<a id=\"Further-Documentation\"></a>\r\n##Further Documentation \r\nDescriptions of objects and properties can be found by looking at the source code classes found here\r\n\r\nhttps://github.com/rmendel05/quizService/tree/master/quizServer/src/main/java/com/rmendel/quizManager/api\r\n\r\nThe Java classes and their properties are marked with @ApiModel and @ApiModelProperty annotations containing notes about each element.  This application produces swagger.json documents based on these annotations.  Once you have the Quiz Service running as specified above, you can explore this documentation in a browser from this link:\r\n\r\nhttp://petstore.swagger.io/?url=http%3A%2F%2Flocalhost%3A8080%2Fapi%2Fswagger.json#!/question\r\n\r\nPlease note that the Swagger site above will also allow execution of GET methods.  However, this will not support POST methods because they require the ```Content-Type: application/json``` header to be specified.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}